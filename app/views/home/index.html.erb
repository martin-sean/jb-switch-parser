<% provide(:title, "Games") %>

<div class="container">
  <% unless @refresh.nil? %>
    <%# Render newly updated games at the top %>
    <div class="row">
      <h3>Recent changes</h3>
    </div>
    <%= render 'home/game_table', games: @refresh.games %>

    <%# Render only new games to table. TODO: look for a faster way to do this %>
    <div class="row">
      <h3>Newly added</h3>
    </div>
    <%= render 'home/game_table', games: @games.reject{|game| !new_game?(game)} %>
  <% end %>

  <%# Render games > 7 days old to the table%>
  <div class="row">
    <h3>All Records</h3>
  </div>
  <%= render 'home/game_table', games: @games.reject(&method(:new_game?)) %>
</div>
